{% extends "dl-specification-base.html" %}

{% set page_caption = 'Typology' %}
{% set page_title = item["name"] %}

{% block dl_breadcrumbs %}
  {{ govukBreadcrumbs({
    "items": [
      {
        "text": "Specification",
        "href": "../../"
      },
      {
        "text": "Typology",
        "href": "../"
      },
      {
        "text": page_title
      },
    ]
  }) }}
{% endblock %}


{% block dl_content %}
<div class="govuk-grid-row">
  <div class="govuk-grid-column-full">
    {% if name in tables["typology-schema"] %}
    <h2 class="govuk-heading-s" id="{{typology}}_schemas">Schemas</h2>
    <p class="govuk-body">The following schemas belong to this typology:</p>
    <ul class="govuk-list govuk-list--bullet">
    {% for schema in tables["typology-schema"][name] | sort %}
      <li><a href="../../schema/{{schema}}">{{ tables["schema"][schema]["name"] }}</a></li>
    {% endfor %}
    </ul>
    {% endif %}

    <h2 class="govuk-heading-s" id="{{typology}}_fields">Fields</h2>
    <p class="govuk-body">The following fields belong to this typology:</p>
    <ul class="govuk-list govuk-list--bullet">
    {% for field in tables["typology-field"][name] | sort %}
      <li><a href="../../field/{{field}}">{{ tables["field"][field]["name"] }}</a></li>
    {% endfor %}
    </ul>

    <h2 class="govuk-heading-s" id="{{typology}}_fields">Datatypes</h2>
    <p class="govuk-body">The following datatypes are used by fields belong to this typology:</p>
    <ul class="govuk-list govuk-list--bullet">
    {% for datatype in tables["typology-datatype"][name] | sort %}
      <li><a href="../../datatype/{{datatype}}">{{ tables["datatype"][datatype]["name"] }}</a></li>
    {% endfor %}
    </ul>
  </div>
</div>
{% endblock %}
